package skj;

import robocode.HitRobotEvent;
import robocode.Robot;
import robocode.ScannedRobotEvent;
import robocode.WinEvent;
import static robocode.util.Utils.normalRelativeAngleDegrees;

import java.awt.*;

public class MyRobot extends Robot {
	
	boolean camp = true;
	double moveAmount;
	
	public void run() {
		// Set colors
		setBodyColor(Color.BLACK);
		setGunColor(Color.BLACK);
		setRadarColor(Color.BLACK);
		setScanColor(Color.BLACK);
		setBulletColor(Color.BLACK);

		moveAmount = Math.max(getBattleFieldWidth(), getBattleFieldHeight());
		
		camp();
		
		while (true) {
			turnRadarRight(360);
			
			if (camp == true) {
				//sdf
			} else {
				scan();
			}
			ahead(moveAmount);
			turnRight(90);
			turnRadarRight(90);
			turnGunRight(90);
		}
	}
	
	public void resetCamp() {
		turnRight(getHeading() % 90);
		ahead(moveAmount);
		turnRight(90);
		turnGunRight(90);
	}
	
	public void camp() {
		ahead(moveAmount);
		turnRight(90);
		turnGunRight(90);
	}
	
	public void shoot(double d) {
		if (d < 200) {
			fire(3);
		} else if (d < 500) {
			fire(2);
		} else {
			fire(1);
		}
	}
	
	public void onScannedRobot(ScannedRobotEvent e) {
		if (e.getDistance() < 550) {
			camp = false;
		} else {
			camp();
		}
		turnRight(e.getBearing());
		turnGunRight(e.getBearing());
		shoot(e.getDistance());
	}

	public void onHitRobot(HitRobotEvent e) {
		//sdf
	}
}
